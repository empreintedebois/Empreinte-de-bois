<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Empreinte de Bois – Portfolio 3D</title>
  <meta name="description" content="Portfolio 3D et gravure numérique : sélection de projets, démarche, matériaux et contact." />
  <link rel="stylesheet" href="styles.css" />

  <!-- BACKGROUND GLOBAL FIXE (noir/gris + révélation dorée) -->
  <style>
    /*
      ====== PARAMÈTRES À MODIFIER (chemins d'images) ======
      - Placez vos images dans votre dépôt (ex: /images/)
      - Assurez-vous que les 2 images (gris et doré) ont le MÊME cadrage / répétition
        pour que la révélation soit parfaitement alignée.
    */
    :root{
      --bg-grey-url: url('images/fond-gris.png'); /* <- image noir/gris (fond) */
      --bg-gold-url: url('images/fond-dore.png'); /* <- image noir/doré (révélée) */
      --bg-repeat: repeat;                         /* repeat ou no-repeat */
      --bg-size: auto;                             /* auto, cover, contain, ou ex: 600px 600px */
      --bg-position: 0 0;                          /* ex: center, 0 0, 50% 50% */
      --spot-blur: 30px;                           /* flou radial des cercles */
    }

    /* Les calques de fond sont FIXES et derrière toute la page */
    .bg-layer{
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      background-repeat: var(--bg-repeat);
      background-size: var(--bg-size);
      background-position: var(--bg-position);
    }

    /* Fond noir/gris */
    .bg-grey{
      background-image: var(--bg-grey-url);
    }

    /*
      Overlay doré : c'est ce calque qu'on "découpe" visuellement avec des cercles floutés.
      IMPORTANT : il doit avoir les mêmes réglages de répétition/position/taille que .bg-grey.
    */
    #overlay{
      position: fixed;
      inset: 0;
      z-index: 1;
      pointer-events: none;
      overflow: hidden;
      background-image: var(--bg-gold-url);
      background-repeat: var(--bg-repeat);
      background-size: var(--bg-size);
      background-position: var(--bg-position);
    }

    /* Tout le contenu du site passe au-dessus des calques */
    body > header,
    body > main,
    body > footer{
      position: relative;
      z-index: 2;
    }

    /* Cercle lumineux */
    .light-spot{
      position: absolute;
      border-radius: 50%;
      filter: blur(var(--spot-blur));
      opacity: 0;
    }
  </style>

</head>
<body>
  <div class="bg-layer bg-grey" aria-hidden="true"></div>
  <div id="overlay" aria-hidden="true"></div>

  <!-- HEADER STICKY -->
  <header class="site-header" id="site-header">
    <div class="shell shell--row">
      <a href="#top" class="site-logo">
        <span class="site-logo__mark">EB</span>
        <span class="site-logo__text">Empreinte de Bois</span>
      </a>

      <nav class="site-nav" aria-label="Navigation principale">
        <a href="#portfolio">Galerie</a>
        <a href="#process">Démarche</a>
        <a href="#models">Modèles</a>
        <a href="#about">À propos</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main id="top">
    <!-- HERO SECTION -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero__bg"></div>
      <div class="shell hero__content">
        <div class="hero__text">
          <p class="eyebrow">Conception 3D &amp; gravure</p>
          <h1 id="hero-title">Donner du relief à la matière.</h1>
          <p class="hero__subtitle">
            Images, volumes et textures au service de la fabrication. Un pont entre rendu numérique et pièce physique.
          </p>

          <div class="hero__actions">
            <a href="#portfolio" class="btn btn--primary">Voir la galerie</a>
            <a href="#contact" class="btn btn--ghost">Discuter d’un projet</a>
          </div>

          <p class="hero__hint">Scroll pour explorer la galerie ↓</p>
        </div>

        <div class="hero__preview">
          <div class="hero-card">
            <!-- Use a high‑quality product image for the hero preview -->
            <img
              src="assets/bandeaux/M05/image.png"
              alt="Carré Bois Sapin — support en bois"
              loading="lazy"
            />
            <div class="hero-card__meta">
              <p class="hero-card__tag">Carré Bois</p>
              <p class="hero-card__title">Support en bois massif</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GALERIE SECTION -->
    <section class="section" id="portfolio" aria-labelledby="portfolio-title">
      <div class="shell">
        <div class="section__hdr">
          <h2 id="portfolio-title">Galerie</h2>
          <p>Une sélection de projets récents : matières, essais de lumière, compositions et maquettes préparatoires.</p>
        </div>

        <!-- Filtres pour la galerie -->
        <div class="gallery-filters" role="tablist" aria-label="Filtres galerie">
          <button class="chip is-active" data-filter="all" role="tab" aria-selected="true">Tout</button>
          <button class="chip" data-filter="gravure" role="tab">Gravure</button>
          <button class="chip" data-filter="volume" role="tab">Volumes</button>
          <button class="chip" data-filter="proto" role="tab">Maquettes</button>
          <button class="chip" data-filter="volume proto" role="tab">Volumes &amp; prototypes</button>
        </div>

        <!-- Grille de la galerie -->
        <div class="gallery-grid">
          <!-- Item 1: Gravure circulaire -->
          <article class="gallery-item" data-cat="gravure">
            <button class="gallery-item__btn" type="button" data-full="assets/galerie/galerie01_w1280.webp">
              <div class="gallery-item__media">
                <img
                  src="assets/galerie/galerie01_w640.webp"
                  alt="Gravure ronde aux motifs floraux"
                  loading="lazy"
                  decoding="async"
                />
              </div>
              <div class="gallery-item__meta">
                <h3>Motifs floraux</h3>
                <p>Gravure ronde finement ciselée sur bois.</p>
              </div>
            </button>
          </article>

          <!-- Item 2: Carré Bois Sapin -->
          <article class="gallery-item" data-cat="volume">
            <button class="gallery-item__btn" type="button" data-full="assets/bandeaux/M05/image.png">
              <div class="gallery-item__media">
                <img
                  src="assets/bandeaux/M05/image.png"
                  alt="Carré Bois Sapin — support en bois"
                  loading="lazy"
                  decoding="async"
                />
              </div>
              <div class="gallery-item__meta">
                <h3>Carré Bois Sapin</h3>
                <p>Support en bois massif au grain fin.</p>
              </div>
            </button>
          </article>

          <!-- Item 3: Carré Bois Noyer -->
          <article class="gallery-item" data-cat="volume">
            <button class="gallery-item__btn" type="button" data-full="assets/bandeaux/M06/image.png">
              <div class="gallery-item__media">
                <img
                  src="assets/bandeaux/M06/image.png"
                  alt="Carré Bois Noyer — support en bois foncé"
                  loading="lazy"
                  decoding="async"
                />
              </div>
              <div class="gallery-item__meta">
                <h3>Carré Bois Noyer</h3>
                <p>Support en noyer aux teintes chaudes.</p>
              </div>
            </button>
          </article>

          <!-- Item 4: Rond Sapin -->
          <article class="gallery-item" data-cat="proto">
            <button class="gallery-item__btn" type="button" data-full="assets/bandeaux/M01/image.png">
              <div class="gallery-item__media">
                <img
                  src="assets/bandeaux/M01/image.png"
                  alt="Rond Sapin — disque en bois"
                  loading="lazy"
                  decoding="async"
                />
              </div>
              <div class="gallery-item__meta">
                <h3>Rond Sapin</h3>
                <p>Disque en sapin avec bord arrondi.</p>
              </div>
            </button>
          </article>

          <!-- Item 5: Rond Similicuir blanc -->
          <article class="gallery-item" data-cat="volume proto">
            <button class="gallery-item__btn" type="button" data-full="assets/bandeaux/M03/image.png">
              <div class="gallery-item__media">
                <img
                  src="assets/bandeaux/M03/image.png"
                  alt="Rond Similicuir blanc — disque en simili cuir"
                  loading="lazy"
                  decoding="async"
                />
              </div>
              <div class="gallery-item__meta">
                <h3>Rond Similicuir blanc</h3>
                <p>Disque en similicuir doux et résistant.</p>
              </div>
            </button>
          </article>
        </div>
      </div>
    </section>

    <!-- PROCESS SECTION -->
    <section class="section section--alt" id="process" aria-labelledby="process-title">
      <div class="shell">
        <div class="section__hdr">
          <h2 id="process-title">Démarche</h2>
          <p>Une boucle courte entre idée, simulation 3D et test matière.</p>
        </div>

        <div class="process-grid">
          <article class="process-card">
            <h3>1. Intention &amp; contraintes</h3>
            <p>
              On clarifie le contexte : support, format, budget, contraintes d’atelier.
              L’idée, c’est d’avoir un cadre solide avant de pousser les images.
            </p>
          </article>
          <article class="process-card">
            <h3>2. Études 3D &amp; lumière</h3>
            <p>
              Travail en 3D sur volumes, textures, contrastes et lisibilité. Les rendus servent ensuite de base à la gravure ou à la fabrication.
            </p>
          </article>
          <article class="process-card">
            <h3>3. Passage matière</h3>
            <p>
              Tests sur bois ou autres matériaux, ajustement des profondeurs de gravure, des densités et des zones de réserve.
            </p>
          </article>
          <article class="process-card">
            <h3>4. Finitions &amp; variations</h3>
            <p>
              Déclinaisons de la même base : formats, intensité des contrastes, colorisation partielle ou séries limitées.
            </p>
          </article>
        </div>
      </div>
    </section>

    <!-- MODÈLES & DÉCLINAISONS -->
    <section class="section" id="models" aria-labelledby="models-title">
      <div class="shell">
        <div class="section__hdr">
          <h2 id="models-title">Modèles &amp; déclinaisons</h2>
          <p>Choisissez un support et explorez ses variantes de matière ou de couleur.</p>
        </div>
        <div class="models-wrapper">
          <!-- Liste des modèles -->
          <aside class="models-list" aria-label="Liste des modèles"></aside>

          <!-- Prévisualisation du modèle sélectionné -->
          <div class="model-preview" aria-live="polite">
            <div class="model-main">
              <img src="" alt="" />
            </div>
            <div class="model-info">
              <h3></h3>
              <p></p>
            </div>
            <div class="model-variants" aria-label="Variantes"></div>
            <button class="add-selection btn btn--primary" type="button">Ajouter à ma sélection</button>
          </div>
        </div>
      </div>
    </section>

    <!-- À PROPOS -->
    <section class="section" id="about" aria-labelledby="about-title">
      <div class="shell about">
        <div class="about__text">
          <h2 id="about-title">À propos</h2>
          <p>
            Je conçois des images et des volumes destinés à devenir des objets physiques : gravures, panneaux, pièces uniques ou petites séries.
          </p>
          <p>
            Mon travail mélange outils 3D, sens de la matière et contraintes réelles d’atelier.
            L’objectif : garder un rendu fort, mais fabriquable.
          </p>
        </div>
        <ul class="about__tags" aria-label="Champs de travail">
          <li>Conception 3D</li>
          <li>Préparation gravure</li>
          <li>Études lumière</li>
          <li>Matériaux &amp; textures</li>
        </ul>
      </div>
    </section>

    <!-- CONTACT -->
    <section class="section section--alt" id="contact" aria-labelledby="contact-title">
      <div class="shell contact">
        <div class="contact__text">
          <h2 id="contact-title">Contact</h2>
          <p>
            Un projet, une idée ou juste une question sur la faisabilité d’une pièce ?
            Envoyez quelques lignes, éventuellement des visuels, et on voit ce qui est réaliste.
          </p>
        </div>

        <form class="contact__form" action="mailto:empreinte.de.bois@example.com" method="post">
          <label>
            Nom
            <input type="text" name="name" autocomplete="name" required />
          </label>
          <label>
            Email
            <input type="email" name="email" autocomplete="email" required />
          </label>
          <label>
            Message
            <textarea name="message" rows="5" required></textarea>
          </label>
          <label>
            Sélection
            <textarea id="selection-summary" name="selection" rows="3" readonly></textarea>
          </label>
          <button type="submit" class="btn btn--primary">Envoyer</button>
        </form>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="shell site-footer__inner">
      <p>© Empreinte de Bois – Adam</p>
      <div class="site-footer__links">
        <a href="#top">Retour en haut</a>
      </div>
    </div>
  </footer>

  <!-- Lightbox modal for gallery -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <button class="lightbox__backdrop" data-close="1" aria-label="Fermer"></button>
    <figure class="lightbox__body">
      <img src="" alt="" id="lightbox-img" />
      <figcaption id="lightbox-caption"></figcaption>
      <button class="lightbox__close" data-close="1" aria-label="Fermer la vue détaillée">×</button>
    </figure>
  </div>

  
  <!-- SCRIPT : cercles lumineux aléatoires (révèle le calque doré) -->
  <script>
    /*
      ====== PARAMÈTRES À MODIFIER ======
      - MIN_DIAMETER / MAX_DIAMETER : taille des cercles (en pixels)
      - FADE_IN_DURATION : temps de montée d'opacité (ms)
      - FADE_OUT_DURATION : temps de descente d'opacité (ms)
      - NEW_CIRCLE_DELAY : délai entre 2 apparitions (ms)
      - MAX_SPOTS_ON_SCREEN : limite pour éviter une accumulation si vous augmentez les timings
    */
    const MIN_DIAMETER = 50;          // <- min (px)
    const MAX_DIAMETER = 200;         // <- max (px)
    const FADE_IN_DURATION = 2000;    // <- 2s pour passer de 0 à 1
    const FADE_OUT_DURATION = 1000;   // <- 1s pour passer de 1 à 0
    const NEW_CIRCLE_DELAY = 2000;    // <- un nouveau cercle toutes les 2s
    const MAX_SPOTS_ON_SCREEN = 12;   // <- sécurité (modifiable)

    const overlay = document.getElementById('overlay');

    function createLightSpot(){
      if(!overlay) return;

      // Sécurité : limiter le nombre de spots simultanés
      const current = overlay.querySelectorAll('.light-spot').length;
      if(current >= MAX_SPOTS_ON_SCREEN) return;

      const spot = document.createElement('div');
      spot.className = 'light-spot';

      // Taille (diamètre) aléatoire
      const diameter = Math.random() * (MAX_DIAMETER - MIN_DIAMETER) + MIN_DIAMETER;
      const radius = diameter / 2;
      spot.style.width = `${diameter}px`;
      spot.style.height = `${diameter}px`;

      // Position aléatoire dans le viewport
      const w = document.documentElement.clientWidth;
      const h = document.documentElement.clientHeight;
      const x = Math.random() * w;
      const y = Math.random() * h;

      spot.style.left = `${x - radius}px`;
      spot.style.top = `${y - radius}px`;

      /*
        Alignement du motif doré DANS le spot avec le motif global de #overlay.
        On copie l'image de fond et on la décale pour que le spot révèle "le bon endroit".
      */
      const cs = window.getComputedStyle(overlay);
      spot.style.backgroundImage = cs.backgroundImage;
      spot.style.backgroundRepeat = cs.backgroundRepeat;
      spot.style.backgroundSize = cs.backgroundSize;
      spot.style.backgroundPosition = `-${x}px -${y}px`;

      // Transition d'opacité : montée puis descente
      spot.style.transition =
        `opacity ${FADE_IN_DURATION}ms ease-in, ` +
        `opacity ${FADE_OUT_DURATION}ms ease-out ${FADE_IN_DURATION}ms`;

      overlay.appendChild(spot);

      // Lancer l'apparition
      requestAnimationFrame(() => { spot.style.opacity = '1'; });

      // Lancer la disparition après la montée
      setTimeout(() => { spot.style.opacity = '0'; }, FADE_IN_DURATION);

      // Nettoyage
      const total = FADE_IN_DURATION + FADE_OUT_DURATION;
      setTimeout(() => { spot.remove(); }, total + 50);
    }

    function loop(){
      createLightSpot();
      setTimeout(loop, NEW_CIRCLE_DELAY);
    }

    // Démarre une fois le DOM prêt
    window.addEventListener('DOMContentLoaded', loop);
  </script>

  <script src="page.js" defer></script>
</body>
</html>
