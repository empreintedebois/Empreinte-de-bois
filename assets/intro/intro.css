/* INTRO BLACKFIX PATCH */
/* IMPORTANT: Do not set body opacity 0 globally. Overlay handles visibility. */
html,body{margin:0;padding:0;width:100%;height:100%;}
/* Overlay hidden by default to avoid flash; becomes visible on .intro-visible */
#intro-overlay{
  position:fixed; inset:0;
  display:grid; place-items:center;
  background:transparent;
  opacity:0;
  pointer-events:none;
  transition: opacity .5s ease;
  z-index:9999;
}
body.intro-visible #intro-overlay{ opacity:1; pointer-events:auto; }

#intro-stage{
  position:relative;
  width:min(92vw, 1100px);
  aspect-ratio:16/9;
}

.logo{
  position:absolute;
  top:50%;
  height:100%;
  width:auto;
  transform:translateY(-50%);
  pointer-events:none;
  user-select:none;
  -webkit-user-drag:none;
  animation:tremble .15s infinite alternate;
}
.logo-text{ left:50%; transform:translate(-50%,-50%); }
.logo-motif-left{ left:0; }
.logo-motif-right{ right:0; }

body.merge .logo{ animation:none; } /* T4 no tremble */

#shards-layer{ position:absolute; inset:0; pointer-events:none; }
.shard{ position:absolute; inset:0; width:100%; height:100%; opacity:0; }
body.shards-visible .shard{ opacity:1; }
body.shards-visible .logo-text{ opacity:0; transition: opacity .2s ease; }

@keyframes tremble{
  from{ transform:translateY(-50%) translateX(-1px); }
  to{ transform:translateY(-50%) translateX(1px); }
}

/* Failsafe: if intro skipped */
body.intro-skip #intro-overlay{ display:none !important; }
