/* ========== Base ========= */
*{box-sizing:border-box}html,body{margin:0;padding:0}
:root{
  --bg:#0a0b0d;
  --fg:#e9ecf2;
  --muted:#aab2c6;
  --card:#111318;
  --card2:#151922;
  --stroke:#202535;
  /* Brown system */
  --brown:#8b5a3c;        /* primaire */
  --brown-2:#a46e4d;      /* hover */
  --brown-3:#6d452e;      /* active/dark */
  --ink:#ffeede;          /* texte sur brun */
  --warn:#ffc35a; --warn-ink:#2d1e00;
}

html,body{height:100%}
body{background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.45}

/* ========== Header (fixe) ========== */
.top-bar{
  position: sticky; top: 0; z-index: 1000;
  background: linear-gradient(180deg, #0a0b0df2 0%, #0a0b0de6 100%);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,0.08);
  min-height: 64px;
}
.top-content{
  display:flex; align-items:center; justify-content:center;
  gap:12px; padding:12px 16px; position:relative;
}
.site-title{margin:0;font-size:1.125rem;letter-spacing:.4px;color:var(--fg);}

/* Bouton "Matrice" à gauche */
.matrice-open{
  position: absolute; left: 12px; top: 10px; height: 42px;
  display:inline-flex; align-items:center; gap:8px; padding:0 12px;
}
.matrice-open .ico{ display:block }
.matrice-open .label{ font-weight:600; letter-spacing:.2px }

/* ========== Layout ========= */
.container{max-width:1100px;margin:0 auto;padding:20px}
.card{background:var(--card2);border:1px solid var(--stroke);border-radius:14px;box-shadow:0 1px 2px rgba(0,0,0,.35);padding:16px}
.stack{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}

/* ========== Buttons (brown) ========= */
.btn{
  appearance:none; border:none; cursor:pointer; text-decoration:none;
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:10px 14px; border-radius:10px; font-weight:600; letter-spacing:.2px;
  transition:.18s transform, .18s background-color, .18s box-shadow, .18s border-color, .18s color;
}
.btn-brown{
  background:var(--brown); color:var(--ink);
  border:1px solid rgba(139,90,60,.5);
  box-shadow: 0 2px 10px rgba(139,90,60,.25);
}
.btn-brown:hover{ background:var(--brown-2) }
.btn-brown:active{ background:var(--brown-3); transform: translateY(1px) }
.btn-ghost{
  background:rgba(255,255,255,0.06); color:#fff;
  border:1px solid rgba(255,255,255,0.18);
}
.btn-ghost:hover{ background:rgba(255,255,255,0.12); border-color:rgba(255,255,255,0.35) }

/* ========== Modal ========= */
.modal[hidden]{ display:none !important; }
.modal{
  position: fixed; inset: 0; z-index: 2000;
  display: grid; place-items: center;
}
.modal-backdrop{
  position: absolute; inset:0;
  background: rgba(0,0,0,0.65);
}
.modal-dialog{
  position: relative;
  width: min(1100px, 92vw);
  background: linear-gradient(180deg, #0a0b0d 0%, #0b0d12 100%); /* même fond que le site */
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 14px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.55);
  overflow: hidden;
}
.modal-header{
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 14px;
  background: rgba(255,255,255,0.04);
  border-bottom: 1px solid rgba(255,255,255,0.08);
}
.modal-header h3{
  margin: 0; font-size: 1rem; color: #f2f2f2; letter-spacing: .3px;
}
.modal-close{ width:32px;height:32px;border-radius:8px }

.modal-body{ padding: 10px 10px 12px 10px; }
.matrice-frame{
  display: block; width: 100%;
  height: 72vh; border: none; border-radius: 10px;
  background: #0a0b0d;
}

/* Empêcher le scroll du body quand la modale est ouverte */
body.modal-open{ overflow: hidden; }

/* Mobile */
@media (max-width: 768px){
  .matrice-open{ left: 8px; top: 10px; height: 40px; padding: 0 10px }
  .matrice-open .label{ display:none }
  .modal-dialog{ width: 96vw }
  .matrice-frame{ height: 78vh }
}
